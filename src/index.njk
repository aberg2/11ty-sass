---
layout: base.njk
title: Hello World
---

<h1>{{github.login}}</h1>
<img src="{{github.avatar_url}}"/>
<h2>Repos</h2>
<div id="repos">
    <button>fetch</button>
</div>
<div class="spinner-border text-info d-none" role="status">
    <span class="sr-only">Loading</span>
</div>
<script>
    const button = document.querySelector('#repos > button');
    const spinner = document.querySelector('#repos > .spinner-border');
    button.addEventListener('click', (e) => {
        spinner.classList.toggle('d-none');
        fetch('https://api.github.com/users/aberg2/repos')
        .then(response => response.json())
        .then(data => {
            spinner.classList.toggle('d-none');
            const repos = document.querySelector('#repos');
            data.forEach(repo => {
                const p = document.createElement('p');
                p.textContent = repo.name;
                repos.appendChild(p);
            });
        });
    });
</script>